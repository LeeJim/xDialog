"use strict";$.x=$.x||{},function(n){$dialog=null,n.x.dialog=function(a){var o='<div class="x-dialog-main">\n    <div class="x-mask"></div>\n      <div class="x-dialog">\n      <a class="x-dialog-close" href="javascript:;"></a>\n      <div class="x-dialog-head">'+a.head+'</div>\n      <div class="x-dialog-body">'+a.body+'</div>\n      <div class="x-dialog-foot">'+a.foot+"</div>\n      </div>\n    </div>";return $dialog=n(o),n("body").append($dialog),$dialog.on("click",".x-dialog-close",function(){n.x.closeDialog()}),$dialog.on("click",".x-mask",function(){n.x.closeDialog()}),$dialog},n.x.closeDialog=function(){$dialog&&$dialog.remove()}}(window.Zepto||window.jQuery),function(n){var a=null;n.x.payDialog=function(o,i){o=n.extend({currentAmount:0,remain:0,bankName:"x银行",bankNo:1234,bankDes:"单笔限额100万，日累计100万"},o);var s="";o.remain&&(s='<p>使用余额支付<span class="x-black">'+o.remain.toFixed(2)+"</span>元</p>");var l,d='<div class="x-order-info">\n    <p class="x-des">银行卡支付</p>\n    <h1 class="x-amount">\n      <span class="x-symbol">¥</span>\n      '+o.currentAmount.toFixed(2)+"</h1>\n      "+s+"\n    </div>";l=o.bankName&o.bankNo&&o.bankDes?'\n          <div class="x-card-info">\n            <img src="" class="x-bank-logo/>\n            <h1>'+o.bankName+" 尾号"+o.bankNo+"</h1>\n            <p>"+o.bankDes+"</p>\n          </div>":'<div class="x-card-info">\n          <span class="x-no-card">\n            <i class="x-icon-danger"></i>\n            尚未绑定定期理财银行卡\n          </span>\n          </div>',a=n.x.dialog({head:"支付",body:d+l,foot:'<a href="javascript:;" id="xPay" class="x-btn primary">确定支付</a>'}),n("#xPay").on("click",function(){i()})},n.x.closePayDialog=function(){a&&a.remove()}}(window.Zepto||window.jQuery),function(n){function a(a){var o=n(this);a&&o.val(""),pwd=n(this).val(),pwd.length>6||(s.attr("nums",pwd.length),6==pwd.length&&_callback(pwd))}var o=null,i=null,s=null;_options={currentAmount:0,remain:0,pwdLen:6},_callback=function(){},n.x.pwdDialog=function(l,d){_options=n.extend(_options,l);for(var c='<div class="x-order-info">\n    <p class="x-des">余额支付</p>\n    <h1 class="x-amount">\n      <span class="x-symbol">¥</span>\n      '+_options.currentAmount+'\n    </h1>\n    <p>当前可用余额&nbsp;<span class="x-black">'+_options.remain+"</span>&nbsp;元</p>\n    </div>",e=[],t=_options.pwdLen;t-- >0;)e.push("<span></span>");var p='<input class="x-pwd-input" type="tel" id="xPassword">\n    <label class="x-pwd-label" id="xPwdLabel" for="xPassword">\n      '+e.join("")+"\n    </label>";o=n.x.dialog({head:"请输入交易密码",body:c,foot:p}),_callback=d;var r=navigator.userAgent.toLowerCase();(r.indexOf("iphone")>-1||r.indexOf("ipad")>-1)&&o.css("top","30%"),s=n("#xPwdLabel"),i=o.find("#xPassword"),i.on("input",function(){a.call(this)}),i.focus()},n.x.closePwdDialog=function(){o&&o.remove()},n.x.resetPwd=function(){a.call(i,!0)}}(window.Zepto||window.jQuery);