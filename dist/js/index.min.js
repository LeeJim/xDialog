"use strict";$.x=$.x||{},function(a){var n=null;a.x.dialog=function(i){var s='<div class="x-dialog-main"><div class="x-mask"></div><div class="x-dialog"><a class="x-dialog-close" href="javascript:;"></a><div class="x-dialog-head">'+i.head+'</div><div class="x-dialog-body">'+i.body+'</div><div class="x-dialog-foot">'+i.foot+"</div></div></div>";return n=a(s),a("body").append(n),n.on("click",".x-dialog-close",function(){a.x.closeDialog()}),n},a.x.closeDialog=function(){n&&n.remove()}}(window.Zepto||window.jQuery),function(a){var n=null,i=function(a){return isNaN(a)||"number"!=typeof a||!isFinite(a)?"0.00":a.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")};a.x.payDialog=function(s,o){s=a.extend({currentAmount:0,remain:0,bankCode:"",bankCardDes:"x银行",bankCardLimit:"单笔限额100万，日累计100万"},s);var d="";s.remain&&(d='<p>使用余额支付<span class="x-black">'+i(s.remain)+"</span>元</p>");var l='<div class="x-order-info"><p class="x-des">银行卡支付</p><h1 class="x-amount"><span class="x-symbol">¥</span>'+i(s.currentAmount)+"</h1>"+d+"</div>",r="",e="";s.bankCode&&s.bankCardDes&&s.bankCardLimit?(r='<div class="x-card-info"><img src="'+s.bankCode+'" class="x-bank-logo" /><h1>'+s.bankCardDes+"</h1><p>"+s.bankCardLimit+"</p></div>",e="确认支付"):(r='<div class="x-card-info"><span class="x-no-card"><i class="x-icon-danger"></i>尚未绑定定期理财银行卡</span></div>',e="绑卡并支付"),n=a.x.dialog({head:"支付",body:l+r,foot:'<a href="javascript:;" id="xPay" class="x-btn primary">'+e+"</a>"}),a("#xPay").on("click",function(){o()})},a.x.closePayDialog=function(){n&&n.remove()}}(window.Zepto||window.jQuery),function(a){function n(n){var i=a(this);n&&i.val("");var s=a(this).val();s.length>6||(o.attr("nums",s.length),6==s.length&&l(s))}var i=null,s=null,o=null,d={currentAmount:0,remain:0,pwdLen:6,withdrawCard:""},l=function(){},r=function(a){return isNaN(a)||"number"!=typeof a||!isFinite(a)?"0.00":a.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")};a.x.pwdDialog=function(e,c){var t,p=[];d=a.extend(d,e),t=d.withdrawCard?'<div class="x-withdraw-info">定期提现<span class="color-primary">'+r(d.currentAmount)+'</span>，至<span class="color-primary">'+d.withdrawCard+"</span></div>":'<div class="x-order-info"><p class="x-des">余额支付</p><h1 class="x-amount"><span class="x-symbol">¥</span>'+r(d.currentAmount)+'</h1><p>当前可用余额&nbsp;<span class="x-black">'+r(d.remain)+"</span>&nbsp;元</p></div>";for(var x=d.pwdLen;x-- >0;)p.push("<span></span>");var u='<input class="x-pwd-input" type="tel" id="xPassword"><label class="x-pwd-label" id="xPwdLabel" for="xPassword">'+p.join("")+"</label>";i=a.x.dialog({head:"请输入交易密码",body:t,foot:u}),l=c,o=a("#xPwdLabel"),s=i.find("#xPassword"),s.on("input",function(){n.call(this)});var v=navigator.userAgent.toLowerCase();(v.indexOf("iphone")>-1||v.indexOf("ipad")>-1)&&s.on("focus",function(){i.find(".x-dialog").css("top","35%")}),s.focus()},a.x.closePwdDialog=function(){i&&i.remove()},a.x.resetPwd=function(){n.call(s,!0)}}(window.Zepto||window.jQuery);